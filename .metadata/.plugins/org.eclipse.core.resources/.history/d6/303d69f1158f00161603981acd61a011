package ar.edu.grupoesfera.cursospring.controladores;

import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;

import ar.edu.grupoesfera.cursospring.modelo.Login;
import ar.edu.grupoesfera.cursospring.modelo.Usuario;

@Controller
public class ControllerRegistro {
	
	@RequestMapping(value="/login", method=RequestMethod.GET)
	public ModelAndView login(){
		ModelMap model = new ModelMap();
		Login miLogin = new Login();
		model.addAttribute("registro",miLogin);
		//model.addAttribute(login, miLogin)
		return new ModelAndView("registro",model);
		
	}
	
	@RequestMapping(path="/registro", method=RequestMethod.POST)
	public ModelAndView registroUsuario(@ModelAttribute("usuario") Usuario usuario){
		
		ModelMap registroUsuario = new ModelMap();
		registroUsuario.put("nombre", usuario.getNombre());
		registroUsuario.put("apellido", usuario.getApellido());
		registroUsuario.put("fecha", usuario.getFecha());
		registroUsuario.put("password", usuario.getPassword());
		return new ModelAndView("confirmaRegistro",registroUsuario);
	}

}
